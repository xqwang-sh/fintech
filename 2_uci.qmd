# 项目2：UCI Credit Card Default 学生项目要求

## 0. 项目背景

* **项目名称**：UCI 信用卡违约预测（Default of Credit Card Clients）
* **应用场景 / 价值**：在账单日/还款日前，根据用户历史账单与还款记录、基本属性，预估**下个月是否违约**（逾期未还），以支持授信与催收策略。
* **数据来源**：课程提供自 UCI 数据集 *Default of Credit Card Clients* 的**子集**。常见字段包括：

  * 基本属性：`LIMIT_BAL, SEX, EDUCATION, MARRIAGE, AGE`
  * 最近 6 期还款状态：`PAY_0 ... PAY_6`（
    **注意**：编码为 −2/−1/0/1/2...，代表还款/按时/逾期月数等，详见数据说明）
  * 最近 6 期账单金额：`BILL_AMT1 ... BILL_AMT6`
  * 最近 6 期还款金额：`PAY_AMT1 ... PAY_AMT6`
  * 目标变量：`default.payment.next.month`（1=违约，0=未违约）
* **任务类型**：二分类（违约/未违约）。

---

## 1. 项目任务（必须完成）

1. **目标变量口径**：以 `default.payment.next.month` 为标签；在报告中解释 1/0 含义并打印**类比例**（说明可能存在不平衡）。
2. **口径统一与映射**：

   * `EDUCATION`、`MARRIAGE` 中的非常规编码（如 0/5/6）需**合并映射**到“其他/未知”，在报告给出**映射表**；
   * `PAY_*` 的取值语义需在报告中**文字说明**（如 1/2/3 分别对应逾期月数）。
3. **数据读取与检查**：打印行列数、缺失概览、关键列存在性；将摘要写入 `README.md`。
4. **数据清洗**：

   * 缺失处理与异常值（负龄/异常额度）检查；
   * 类别规范：`SEX/EDUCATION/MARRIAGE` One‑Hot 或合适编码；
   * 可选：金额变量对数化（如 `log(1+x)`）。

5. **特征工程（至少 2 项）**：示例——

   * **逾期强度**：`max(PAY_0..PAY_6)`、`sum(PAY_*>0)`（逾期月数计数）；
   * **还款能力**：`PAY_AMT1 / BILL_AMT1`（最近一期还款率）、近 3/6 期均值；
   * **余额/利用率**：`BILL_AMT1 / LIMIT_BAL`、滚动均值/方差；
   * **趋势特征**：`BILL_AMT` 近 6 期线性斜率、`PAY_AMT` 趋势。
   
6. **训练/测试切分**：固定随机种子；说明比例与分层策略（建议 `stratify=label`）。
7. **基线模型**：逻辑回归（必做）；至少 **1 个**评估指标（推荐 **Accuracy + F1**，可加 ROC AUC）。
8. **阈值与业务解读**：给出一个示例阈值下的**混淆矩阵**与**精查名单**解释（例如“高风险 Top‑K”）。
9. **结果导出**：在 `outputs/` 输出预测概率与标签。

> 若本项目另有字段筛选或不同口径，由任课老师发布时补充；你们需在报告中如实记录。

---

## 2. 团队与分工（6-10 人）

* **推荐规模**：6-10 人；可根据团队实际人数灵活调整。
* **核心角色（必须）**：
  A. 数据读取与清洗（`clean_data`）
  B. 数据探索（`explore_data`）
  C. 特征工程（`feature_engineering`）
  D. 数据切分（`split_data`）
  E. 训练模型（`train_model`）
  F. 评估与导出（`evaluate_model` / `save_predictions`）
* **可选角色（7-8 人时添加）**：
  G. 可视化与报告排版（负责图表制作、报告编写）
  H. presenter（做PPT、项目答辩汇报）
* **协作角色（9-10 人时添加）**：
  I. 数据探索辅助（协助 A 完成数据理解、可视化探索）
  J. 特征工程辅助（协助 C 完成特征构造、验证）
  K. 模型调参辅助（协助 E 完成超参数调优、模型对比）
* **署名规范**：每位成员在自己负责的函数顶部写 `(owner 学号)+姓名`；**不得修改他人代码**；合并由队长负责。
* **分工建议**：
  - 6 人：每人 1 个核心角色
  - 7 人：6 个核心角色 + 1 个可选角色（G 或 H）
  - 8 人：6 个核心角色 + 2 个可选角色（G + H）
  - 9 人：6 个核心角色 + 2 个可选角色 + 1 个协作角色
  - 10 人：6 个核心角色 + 2 个可选角色 + 2 个协作角色

---

## 3. 数据与合规

* **数据说明**：在 `README.md` 或报告中写明来源、时间范围、关键字段、目标变量口径、过滤规则与**编码映射表**。
* **隐私与伦理**：数据为匿名化样本；如追加外部数据（如利率、宏观指标），需要注明来源与许可。
* **数据字典**：提供关键字段释义（尤其是 `PAY_*` 语义与 `EDUCATION/MARRIAGE` 的重编码）。

---

## 4. 交付与时间线（统一里程碑）

* **W3：立项检查**

  1. `README.md`（项目背景、分工、数据来源与口径摘要）；
  2. 可运行的最小脚本（跑通样例数据并生成至少一张图片）；
  3. 明确任务清单与负责人。

* **W7：结项答辩**

  提交完整复现包（见下 §5）+ 报告（6–8 页）+ 幻灯（6–8 页）+ AI 使用记录。

---

## 5. 交付清单（统一目录）

```
project_root/
  README.md                # 项目背景、分工、数据来源与口径摘要、运行命令
  main.py                  # 单文件分工脚本
  requirements.txt         # 依赖（pandas/numpy/scikit-learn 等）
  data/
    sample.csv             # 样本（数据不上传）
    README.md              # 数据文件夹结构
  outputs/
    predictions.csv        # 模型输出样例（运行脚本可覆盖生成）
  report.pdf  (或 .md)     # 6–8 页项目报告（请在结题时添加）
  slides.pdf               # 6–8 页答辩幻灯（请在结题时添加）
  ai_usage_log.md          # AI 使用记录（日期/工具/用途/采纳与否）
  .gitignore               # 忽略大文件（保留示例数据与示例输出）
```

---

## 6. 技术要求

**最低要求（必须达成）**

* 按照README可以复刻结果。
* 最小流程：读取 → 清洗 → 特征 → 切分 → 训练（基线）→ 评估 → 导出。
* 基线模型：分类=逻辑回归 / 回归=线性回归；至少 1 个评估指标；固定随机种子；输出预测到 `outputs/`。
* 可复现性：写清版本号与数据来源；提交样例数据与样例输出。
* 代码协作：每人仅编辑自己的函数；完成 `TODO` 后改为 `DONE`；合并由队长统一执行。

**额外加分点（任选 1–5 项）**

* **不平衡处理**：类权重/欠采样/过采样/SMOTE；比较对 F1 / AUC 的影响。
* **成本敏感评估**：设定示例成本矩阵（漏判成本 > 误杀成本），计算**期望成本**并与默认阈值对比。
* **特征选择/稳定性**：用单变量筛选或正则（L1/L2）做特征压缩；报告系数稳定性。
* **校准**：Platt/等距分箱校准概率，并用**校准曲线**展示结果。
* **可视化 ≥2 张**：`PAY_*` 分布与违约率、还款率分布、ROC/PR 曲线、特征贡献条形图等。
* **工程性**：友好报错与自动日志（数据形状、缺失/异常统计、耗时、随机种子）。

---

## 7. 评分与 Rubric（统一口径，可微调）

> 总评 = **团队分 90% + 互评 10%**；如公布**难度系数**（0.9 / 1.0 / 1.1），按乘数计算。

### 7.1 团队分（90%）

> 其中"报告与可读性"仅针对**报告文本与图表**评分。

| 维度         | A（优秀）          | B（良好）       | C（合格）      | D（需改进） |
| ---------- | -------------- | ----------- | ---------- | ------ |
| 可运行性(10)   | 一键跑通；无报错；跨平台稳定 | 一键跑通，小问题可自解 | 基本跑通，需老师介入 | 无法跑通   |
| 正确性(20)    | 任务实现到位，评估合理    | 基本实现，评估略单薄  | 只完成部分流程    | 偏离题意   |
| 稳健性(10)   | 缺失/异常/边界处理到位 | 处理常见问题 | 处理有限  | 几乎未处理  |
| 代码质量(10)   | 变量/注释清晰，结构整洁 | 基本清晰   | 可读性一般 | 可读性差   |
| 报告与可读性(30) | 结构清晰、图表规范、叙述有因有据 | 大体清晰        | 说明不全/结构混乱  | 缺失关键说明 |
| 演示表达(20)    | 逻辑清楚，答辩到位      | 讲清主要结论      | 表达一般       | 不能自洽   |

### 7.2 互评（10%）

* 每位成员对**其他人**打分；与教师评分结合。
* 若互评明显失真，教师可依据提交记录与痕迹进行调整。

---

## 8. 报告与答辩内容（统一骨架）

**报告（6–8 页）**

1. 背景与任务（场景、目标、评估指标）
2. 数据与变量（来源、清洗摘要、编码与映射、口径与过滤）
3. 方法（流程图、基线模型、评估方案；不平衡与阈值策略）
4. 结果（表/图 + 解读 + 业务含义；混淆矩阵与阈值敏感性）
5. 误差来源与改进（口径差异、特征选择、校准、类不平衡等）
6. 结论与建议（面向授信/催收的建议：阈值、名单规模、复核策略）

**答辩幻灯（6–8 页）**：与报告同结构，突出关键结论与可视化（ROC/PR、Top 特征等）。

---

## 9. 提交与命名规范

* **打包**：提交 `.zip`，保留目录结构；不要包含超大无关文件。
* **命名**：`【UCI_CC】_【班级】_【队名】.zip`；报告/幻灯使用相同前缀。
* **提交方式**：按课程平台要求（学习通 / LMS / GitHub Release）。

---

## 10. 学术诚信与 AI 使用政策

* 允许用 AI 工具进行**资料查询、代码解释、调试建议**；
* **禁止**：粘贴未理解的大段生成代码、虚构数据/结果、抄袭他组；
* 必交 `ai_usage_log.md`（日期、工具、用途、是否采纳与原因 2–3 句）；
* 发现学术不端将按校规处理。

