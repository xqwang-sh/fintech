{
  "hash": "15f38cb9ab09706898c151cd4967e055",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: 第一讲上机实践\n---\n\n\n\n本上机讲义覆盖以下内容：\n\n- 环境安装：Python、VS Code、必要的库\n- 安装验证：Python、库文件\n- 第一个机器学习程序：线性回归的简化体验\n\n## 环境安装详细指南\n\n### Step 1: Python 官方安装\n\n**推荐方式：使用 Python 官方安装包（简单可靠）**\n\n1. **下载地址**：https://www.python.org/downloads\n2. **选择版本**：建议选择最新稳定版本（3.11 或 3.12）\n3. **安装步骤**：\n   - 下载适合你操作系统的安装程序\n   - 运行安装程序，**务必勾选 \"Add Python to PATH\"** ⚠️（这很重要！）\n   - 点击 \"Install Now\" 或选择自定义安装即可\n4. **验证安装**：打开终端/命令行，运行以下命令：\n   ```bash\n   python --version\n   ```\n   如果显示版本号（如 Python 3.11.x），说明安装成功！\n\n**为什么不推荐 Anaconda？**\n\n- 虽然 Anaconda 预装了许多库，看似方便，但对初学者而言反而会带来复杂性：\n  - 占用空间大（超过1GB）\n  - 环境管理复杂，容易出现包版本冲突\n  - 容易让学生\"吃苦头\"——问题难以调试\n- 官方 Python + pip 的组合简洁、稳定、可靠\n\n### Step 2: 安装 VS Code（推荐的代码编辑器）\n\n1. **下载地址**：https://code.visualstudio.com/\n2. **安装步骤**：\n   - 下载适合你操作系统的安装程序\n   - 运行安装程序，按照提示完成安装\n   - 启动 VS Code\n\n### Step 3: VS Code 插件安装\n\nVS Code 最强大的地方就是可以通过插件扩展功能。打开 VS Code 后，按照以下步骤安装必备插件：\n\n**安装步骤：**\n\n1. 打开 VS Code\n2. 按 `Ctrl+Shift+X` (Windows/Linux) 或 `Cmd+Shift+X` (Mac) 打开插件市场\n3. 搜索以下插件名称并安装：\n\n**必备插件：**\n\n1. **Python**（Microsoft 官方）\n   - 搜索关键词：`Python` 或 `ms-python.python`\n   - 功能：Python 代码支持、调试、代码格式化\n\n2. **Pylance**（更好的语言服务）\n   - 搜索关键词：`Pylance` 或 `ms-python.pylance`\n   - 功能：类型检查、智能代码完成、错误提示\n\n3. **GitHub Copilot**（AI 代码助手 - 强烈推荐！）\n   - 搜索关键词：`Copilot` 或 `GitHub.copilot`\n   - 功能：使用 AI 帮助写代码、生成代码建议\n   - **价格对比**：\n     - 免费用户：GitHub Copilot 有月度限制（问答次数有限制）\n     - **Student 账户**：免费享用 **GitHub Copilot Pro**（价值 $10/月）\n       - 无限制使用 Copilot\n       - 比免费用户多得多的问答次数和优先级\n   - **获得 Student 优惠**：访问 https://education.github.com/pack，用学生邮箱注册即可（还包含其他开发工具的优惠）\n\n### Step 4: 库和包管理 - pip 与 uv\n\n**什么是 pip？**\n\n- `pip` 是 Python 的包管理工具，用于安装和管理第三方库\n- 库（Library）就像是一个\"工具箱\"，里面装满了别人已经写好的实用工具\n\n**本课程需要的库：**\n\n| 库名 | 用途 |\n|------|------|\n| `numpy` | 数值计算（数组、矩阵运算） |\n| `pandas` | 数据处理（表格数据操作） |\n| `matplotlib` | 数据可视化（画图） |\n| `scikit-learn` | 机器学习模型 |\n\n**安装这些库（推荐三种方式之一）：**\n\n**方式 1：基础方式 - 使用 pip**\n\n```bash\npip install numpy pandas matplotlib scikit-learn\n```\n\n**方式 2：现代方式 - 使用 uv（推荐！）**\n\n`uv` 是一个更快、更安全的 Python 包管理工具，专为初学者和团队项目设计。\n\n首先安装 `uv`：\n```bash\npip install uv\n```\n\n然后用 `uv` 安装其他库：\n```bash\nuv pip install numpy pandas matplotlib scikit-learn\n```\n\n**uv 的优势：**\n\n| 特性 | pip | uv |\n|------|-----|-----|\n| 安装速度 | 较慢 | ⚡ 快 10-100 倍 |\n| 依赖解析 | 有时出现版本冲突 | ✓ 更准确，冲突更少 |\n| 一键安装多个库 | ✓ 可以 | ✓ 可以，更快 |\n| 导出依赖 | 较复杂 | ✓ 一行命令 |\n| 初学者友好度 | 一般 | ✓ 更友好 |\n\n简单来说：**`uv` 就像是\"自动帮你打理图书馆的管家\"**，让你不用担心安装库的细节，把注意力集中在代码和实验本身。\n\n### Step 5: pip install 常见问题排查\n\n如果你运行 `pip install` 或 `uv pip install` 时出现错误，通常是以下原因。按顺序尝试：\n\n**错误现象 1：`pip: command not found` 或 `'pip' 不是内部或外部命令`**\n\n这表示系统找不到 Python 或 pip 的位置。按以下步骤解决：\n\n**第1步：重启计算机**\n- 重启可以使系统重新加载 PATH 环境变量\n- 重启后重新打开终端，尝试 `pip --version`\n\n**第2步：如果还是失败，手动添加 Python 到 PATH**\n\n**Windows：**\n1. 打开 \"文件资源管理器\" → 右键单击 \"此电脑\" → \"属性\"\n2. 点击 \"高级系统设置\"\n3. 点击 \"环境变量\"\n4. 在 \"用户变量\" 或 \"系统变量\" 中，找到 \"Path\"，点击 \"编辑\"\n5. 点击 \"新建\"，添加 Python 安装路径（通常是 `C:\\Users\\你的用户名\\AppData\\Local\\Programs\\Python\\Python311` 或类似路径）\n6. 点击 \"确定\" 保存，重启终端\n\n**Mac/Linux：**\n1. 打开终端\n2. 编辑 `~/.zshrc` 或 `~/.bashrc`：\n   ```bash\n   nano ~/.zshrc\n   ```\n3. 在文件末尾添加：\n   ```bash\n   export PATH=\"/usr/local/bin:$PATH\"\n   ```\n4. 按 `Ctrl+X`，然后 `Y`，再按 `Enter` 保存\n5. 运行 `source ~/.zshrc` 加载配置\n\n**第3步：如果以上都不行，重装 Python**\n1. 卸载已安装的 Python\n2. 从 https://www.python.org/downloads 重新下载并安装\n3. **安装时务必勾选 \"Add Python to PATH\"**\n4. 重启计算机\n\n**错误现象 2：网络连接问题**\n\n如果安装速度很慢或显示网络错误，可以尝试：\n\n方案1：使用国内镜像源\n```bash\npip install -i https://pypi.tuna.tsinghua.edu.cn/simple numpy pandas matplotlib scikit-learn\n```\n\n方案2：使用 uv（uv 通常自动处理网络问题，且更快）\n```bash\nuv pip install numpy pandas matplotlib scikit-learn\n```\n\n## 安装验证\n\n在终端/命令行运行以下命令来快速验证你的环境。遇到错误先读提示再求助助教。\n\n**验证 Python 和 pip：**\n\n```bash\npython --version\npip --version\n```\n\n如果两个命令都正常显示版本号，说明 Python 和 pip 已正确安装！\n\n**验证库安装：**\n\n运行以下 Python 代码来检查必要的库是否已安装：\n\n::: {#5b96ea8d .cell message='false' execution_count=2}\n``` {.python .cell-code}\n# 验证库安装情况\nlibs = ['numpy', 'pandas', 'matplotlib', 'sklearn']\n\nprint(\"正在验证库安装...\\n\")\nall_success = True\nfor lib in libs:\n    try:\n        __import__(lib)\n        print(f'✓ {lib} - 已安装')\n    except ImportError:\n        print(f'✗ {lib} - 未安装')\n        all_success = False\n\nif not all_success:\n    print(\"\\n如有库未安装，运行以下命令之一：\")\n    print(\"  pip install numpy pandas matplotlib scikit-learn\")\n    print(\"  # 或者使用 uv (更快):\")\n    print(\"  uv pip install numpy pandas matplotlib scikit-learn\")\nelse:\n    print(\"\\n✓ 所有库已安装！环境配置完成 🎉\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n正在验证库安装...\n\n✓ numpy - 已安装\n✓ pandas - 已安装\n✓ matplotlib - 已安装\n✓ sklearn - 已安装\n\n✓ 所有库已安装！环境配置完成 🎉\n```\n:::\n:::\n\n\n## 第一个机器学习程序：线性回归\n\n**什么是机器学习？** 简单来说，就是让计算机从数据中\"学习\"规律，然后用学到的规律做预测。\n\n**这个例子要做什么？** 我们要让计算机学习\"房屋面积和价格的关系\"，然后预测新房子的价格。\n\n**机器学习的基本流程：**\n\n1. 准备数据（历史数据：已知面积和价格）\n2. 训练模型（让计算机学习规律）\n3. 预测新数据（用学到的规律预测新房子价格）\n4. 可视化（画图看看效果）\n\n下面我们一步步实现：\n\n::: {#06032a91 .cell message='false' execution_count=3}\n``` {.python .cell-code}\n# 第一个机器学习程序：房价预测（简化版）\n\n# ========== 第1步：导入必要的库 ==========\nfrom sklearn.linear_model import LinearRegression  # 线性回归模型\nimport numpy as np                                # 数值计算库\nimport matplotlib.pyplot as plt                    # 画图库\n\n# ========== 第2步：准备数据（历史数据）==========\n# 这是我们的\"历史数据\"：8 套房子的面积和价格\nareas = [50, 60, 70, 80, 90, 100, 110, 120]      # 房屋面积（平米）\nprices = [150, 180, 210, 240, 270, 300, 330, 360] # 对应价格（万元）\n\n# 观察：面积越大，价格越高，看起来是线性关系\n\n# ========== 第3步：数据格式转换 ==========\n# 将数据转换为 numpy 数组格式（机器学习中常用的数据格式）\nX = np.array(areas).reshape(-1, 1)  # 特征（输入）：房屋面积，reshape 成二维数组\ny = np.array(prices)                # 标签（输出）：房屋价格\n\n# ========== 第4步：创建模型 ==========\nmodel = LinearRegression()  # 创建一个线性回归模型\n\n# ========== 第5步：训练模型 ==========\n# fit() 就是\"训练\"：让模型从数据中学习规律\n# 模型会找到一条直线，使得这条直线最接近所有数据点\nmodel.fit(X, y)\n\n# ========== 第6步：查看学到的参数 ==========\n# 模型学到的规律可以用一条直线表示：价格 = 斜率 × 面积 + 截距\nprint(\"斜率（每平米价格）:\", model.coef_[0])  # 约 3.0，表示每平米约3万元\nprint(\"截距:\", model.intercept_)              # 直线的截距\n\n# ========== 第7步：预测新数据 ==========\n# 现在用训练好的模型预测 95 平米房子的价格\nnew_area = np.array([[95]])  # 要预测的房子面积（使用 numpy 数组格式）\npredicted = model.predict(new_area)[0]  # predict() 返回预测结果\nprint(f\"95平米预测价格: {predicted:.1f} 万元\")\n\n# ========== 第8步：可视化 ==========\n# 画图看看模型的拟合效果\nplt.scatter(areas, prices, label='真实数据')           # 散点图：真实数据点\nplt.plot(areas, model.predict(X), color='red', label='拟合直线')  # 红线：模型学到的直线\nplt.xlabel('面积（平米）')\nplt.ylabel('价格（万元）')\nplt.legend()  # 显示图例\nplt.title('房价预测')\nplt.show()    # 显示图形\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n斜率（每平米价格）: 3.0000000000000004\n截距: -2.842170943040401e-14\n95平米预测价格: 285.0 万元\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](w1_practice_files/figure-html/cell-4-output-2.png){width=586 height=449}\n:::\n:::\n\n\n**恭喜！** 你已经完成了第一个机器学习程序！🎉\n\n",
    "supporting": [
      "w1_practice_files/figure-html"
    ],
    "filters": [],
    "includes": {}
  }
}